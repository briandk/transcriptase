version: 2 # CircleCI version 2

jobs:
  build:
    working_directory: ~/transcriptase
    # The primary container is an instance of the first list image listed. Your build commands run in this container.
    docker:
      - image: circleci/node:8.1.0
    steps:
      - checkout
      - run:
          name: add-node-to-PATH
          command: export PATH="${PATH}:${HOME}/${CIRCLE_PROJECT_REPONAME}/node_modules/.bin"
      - run:
          name: install-npm
          command: npm install -g npm@latest
      - run:
          name: install-yarn
          command: npm install -g yarn@latest
      - run:
          name: test
          command: yarn test
